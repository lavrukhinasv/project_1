import telebot
from telebot import types
import random

bot = telebot.TeleBot('7682576928:AAFX9MAMInHsx6XnJMWC6uyXu7SyeInIueA')

# Список карт, предсказаний и путей к изображениям
cards = [
    {"name": "Шут", "prediction": "Нулевая карта в колоде Таро, Шут, обладает бесконечным потенциалом и чаще всего выпадает людям, которые находятся в начале жизненного пути. Им еще только предстоит принятие серьезных решений.Основное значение этой карты — невинность, начало пути, предвещающего что-то новое и неизведанное ранее. В трактовке аркана нет ничего зловещего, акцент смещен на эксцентричность персонажа, его необычный взгляд на мир. Карта советует попробовать нестандартные решения, новые теории. Однако в символике аркана заложено также предостережение: необходимо смотреть под ноги и по сторонам, а не погружаться полностью в свои мечты.", "image": "C:\MyPythonProjects\шут.jpg"},
    {"name": "Маг", "prediction": "Карта Мага является предвестником исполнения желания. В Таро Маг говорит об успехе в деле. А именно удачное стечение обстоятельств, которые помогут осуществить вашу мечту. 1 аркан как бы намекает, что сейчас самое время двинуться навстречу своему желанию, для этого у вас есть все ресурсы. Все находится под вашим контролем, и вам нужно действовать активно, спешить использовать это время. Чтобы все сложилось удачно, нужно проявить свою волю, сконцентрироваться на деле. Если говорить конкретно, то все зависит от вас. Будь то романтические, творческие, профессиональные, духовные замыслы, они обязательно исполнятся, как по мановению волшебной палочки Мага. А чтобы не забыть об этом благоприятном времени, установите обои с картой Мага на свой телефон, и он будет вас вдохновлять.", "image": "C:\MyPythonProjects\Маг.jpg"},
    {"name": "Жрица", "prediction": "2 аркан говорит, что истина находится внутри вас. Подсознательно вы знаете ответ на вопрос, нужно лишь сосредоточиться и успокоиться, возможно, побыть некоторое время в одиночестве. Иногда Жрица может указывать на воспоминания, неприятные события в прошлом, которые как-то влияют на вашу жизнь. Если в раскладе выпадает Жрица, то в делах нужно проявить мудрость и терпение, тогда дело будет успешным. ", "image": "C:\MyPythonProjects\жрица.jpg"},
    {"name": "Императрица", "prediction": "Карта Императрицы предвещает жизнь, наполненную гармонией, стабильность, заботу о близких, благоприятную расстановку сил в любом деле. Если в раскладе появляется эта карта, значит, перед вами открыты все пути. Она несет творческую энергию и может предрекать начало нового проекта, отличные возможности для реализации потенциала, раскрытие природного таланта. Иногда выпавшая карта Хозяйки говорит о будущей беременности, а для неженатых/незамужних означает вступление в брак. 3 аркан материализует важную женскую фигуру, покровительницу, которая поможет в решении важного вопроса, направит на истинный путь, даст совет ,как поступить в сложной ситуации.", "image": "C:\MyPythonProjects\императрица.jpg"},
    {"name": "Император", "prediction": "В любых раскладах 4 аркан означает, в первую очередь, мужскую фигуру, властного человека, самоутверждение за счет денег и материальных благ. Император говорит, что человек несет ответственность не только за себя, но и за свой коллектив, за семью. Это отличные перспективы, надежность дела, стабильность в отношениях, рациональность и большие возможности. Если выпадает Император, значит, человек основывается на разуме, не берет в расчет чувства и эмоции. В определенных раскладах Хозяин может появляться в качестве четких границ в общении, важности следования законам и социальным нормам.", "image": "C:\MyPythonProjects\император.jpg"},{"name": "Иерофант", "prediction": "В общем смысле карта означает воплощение духовного мира, который помогает человеку развиваться, осознавать истинные ценности. Если рассматривать как человеческую фигуру, это наставник, человек, который значительно старше вас, направляющий на правильный путь. Это может быть книга, которая случайно попала к вам в руки, и из нее вы почерпнули серьезное или важное изречение., фильм или учение, руководствуясь которым, вы стали мудрее и добрались до истины. Может символизировать учреждение, где дают знания: школу, институт, религиозные семинарии и церковь. Если речь идет о каком-то деле и выходит карта Иерофанта, значит, развитие ситуации будет зависеть от моральных устоев – пойдете ли вы на сделку со своей совестью.", "image": "C:\MyPythonProjects\иерофант.jpg"}
] #в финальнй версии проета я добавлю все карты 

@bot.message_handler(commands=['start'])  # начинаем обработку команды старт
def start(message):  # параметр будет хранить информацию о пользователе и о чате
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    item = types.KeyboardButton("Выдать карту")
    markup.add(item)

    bot.send_message(message.chat.id, f'Привет, {message.from_user.first_name}! Жми на кнопку "Выдать карту" и тебе выпадет карта из золотой колоды карт Таро', reply_markup=markup)

@bot.message_handler(func=lambda message: message.text == "Выдать карту")  # обрабатываем нажатие на кнопку
def give_card(message):
    card = random.choice(cards)  # выбираем случайную карту из списка
    bot.send_photo(message.chat.id, photo=open(card["image"], 'rb'))  # отправляем изображение карты
    bot.send_message(message.chat.id, f'Ваша карта: {card["name"]}\nПредсказание: {card["prediction"]}')

bot.polling(none_stop=True)  # чтобы программа не останавливалась
